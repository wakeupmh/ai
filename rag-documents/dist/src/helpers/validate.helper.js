"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validateRequest = void 0;
const zod_1 = require("zod");
const exceptions_1 = require("../infra/exceptions");
async function validateRequest(schema, objectToValidate) {
    try {
        return await schema.parseAsync(objectToValidate);
    }
    catch (error) {
        if (error instanceof zod_1.ZodError) {
            throw new exceptions_1.BadRequestException('bad request', error.issues);
        }
        throw new exceptions_1.BadRequestException(JSON.stringify(error));
    }
}
exports.validateRequest = validateRequest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmFsaWRhdGUuaGVscGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2hlbHBlcnMvdmFsaWRhdGUuaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZCQUEwQztBQUUxQyxvREFBeUQ7QUFFbEQsS0FBSyxVQUFVLGVBQWUsQ0FBb0IsTUFBUyxFQUFFLGdCQUFxQjtJQUN2RixJQUFJO1FBQ0YsT0FBTyxNQUFNLE1BQU0sQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtLQUNqRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2QsSUFBSSxLQUFLLFlBQVksY0FBUSxFQUFFO1lBQzdCLE1BQU0sSUFBSSxnQ0FBbUIsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQzNEO1FBQ0QsTUFBTSxJQUFJLGdDQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtLQUNyRDtBQUNILENBQUM7QUFURCwwQ0FTQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFpvZEVycm9yLCB6LCBab2RUeXBlIH0gZnJvbSAnem9kJ1xuXG5pbXBvcnQgeyBCYWRSZXF1ZXN0RXhjZXB0aW9uIH0gZnJvbSAnLi4vaW5mcmEvZXhjZXB0aW9ucydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUmVxdWVzdDxUIGV4dGVuZHMgWm9kVHlwZT4oc2NoZW1hOiBULCBvYmplY3RUb1ZhbGlkYXRlOiBhbnkpOiBQcm9taXNlPHouaW5mZXI8VD4+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgc2NoZW1hLnBhcnNlQXN5bmMob2JqZWN0VG9WYWxpZGF0ZSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBab2RFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEJhZFJlcXVlc3RFeGNlcHRpb24oJ2JhZCByZXF1ZXN0JywgZXJyb3IuaXNzdWVzKVxuICAgIH1cbiAgICB0aHJvdyBuZXcgQmFkUmVxdWVzdEV4Y2VwdGlvbihKU09OLnN0cmluZ2lmeShlcnJvcikpXG4gIH1cbn1cbiJdfQ==